{"version":3,"sources":["services.js","components/SearchBox.jsx","components/Pagination.jsx","components/Table/TableHeader.jsx","components/Table/TableBody.jsx","components/Table/Table.jsx","components/Like.jsx","components/PhonesTable.jsx","components/Phones.jsx","utils/paginate.js","components/DetailsPhone.jsx","components/NotFound.jsx","App.js","index.js"],"names":["BASE_URL","getResource","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","url","wrap","_context","prev","next","axios","get","concat","abrupt","sent","t0","console","error","stop","this","_x","apply","arguments","getAllPhones","_getAllPhones","_callee2","_context2","getPhoneById","_x2","_getPhoneById","_callee3","phoneId","_context3","SearchBox","value","onChange","react_default","createElement","type","name","className","placeholder","event","currentTarget","Pagination","props","itemsCount","pageSize","currentPage","onPageChange","pagesCount","Math","ceil","pages","_","range","map","page","key","onClick","TableHeader","raiseSort","path","sortColumn","objectSpread","_this","order","onSort","renderSortIcon","column","_this2","columns","sort","scope","label","Component","TableBody","renderCell","item","content","createKey","id","_this$props","data","src","alt","width","Table","Table_TableHeader","Table_TableBody","Like","liked","classes","style","cursor","PhonesTable","phone","Link","to","components_Like","onLike","phones","components_Table_Table","Phones","state","searchQuery","handleLike","toConsumableArray","index","indexOf","setState","handlePageChange","handleSort","handleSearch","query","getPagedData","_this$state","allPhones","filtered","filter","toLowerCase","startsWith","items","pageNumber","startIndex","slice","take","paginate","orderBy","totalCount","length","count","_this$state2","_this$getPagedData","components_SearchBox","components_PhonesTable","components_Pagination","DetailsPhone","phoneDetails","showDetailsPhone","match","params","res","log","NotFound","App","Fragment","Switch","Route","component","Redirect","from","exact","ReactDOM","render","HashRouter","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.c7f8e475.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://romarios1987.github.io/phone-catalog/api';\r\n\r\nconst getResource = async (url) => {\r\n  try {\r\n    return await axios.get(`${url}.json`)\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n};\r\n\r\nexport async function getAllPhones() {\r\n  return await getResource(`${BASE_URL}/phones`);\r\n}\r\n\r\n\r\nexport async function getPhoneById(phoneId) {\r\n    return await getResource(`${BASE_URL}/phones/${phoneId}`);\r\n}\r\n","import React from \"react\";\r\n\r\nconst SearchBox = ({value, onChange}) => {\r\n  return (\r\n        <input\r\n              type=\"text\"\r\n              name=\"query\"\r\n              className=\"form-control my-3\"\r\n              placeholder=\"Search...\"\r\n              value={value}\r\n              onChange={event => onChange(event.currentTarget.value)}\r\n        />\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport _ from 'lodash';\r\n\r\nconst Pagination = (props) => {\r\n  const {itemsCount, pageSize, currentPage, onPageChange} = props;\r\n\r\n\r\n  const pagesCount = Math.ceil(itemsCount / pageSize);\r\n  if (pagesCount === 1) return null;\r\n  const pages = _.range(1, pagesCount + 1);\r\n\r\n\r\n  return (\r\n        <nav>\r\n          <ul className=\"pagination\">\r\n            {pages.map((page) => (\r\n                  <li key={page} className={page === currentPage ? 'page-item active' : 'page-item'}>\r\n                    <button\r\n                          onClick={() => onPageChange(page)}\r\n                          className=\"page-link\"\r\n                    >\r\n                      {page}\r\n                    </button>\r\n                  </li>))}\r\n          </ul>\r\n        </nav>\r\n  );\r\n};\r\n\r\n\r\nPagination.propTypes = {\r\n  itemsCount: PropTypes.number.isRequired,\r\n  pageSize: PropTypes.number.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n  onPageChange: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Pagination;\r\n","import React, {Component} from 'react';\r\n\r\n\r\nclass TableHeader extends Component {\r\n\r\n  raiseSort = (path) => {\r\n    const sortColumn = {...this.props.sortColumn};\r\n    if (sortColumn.path === path) {\r\n      sortColumn.order = (sortColumn.order === 'asc') ? 'desc' : 'asc';\r\n    } else {\r\n      sortColumn.path = path;\r\n      sortColumn.order = 'asc';\r\n    }\r\n\r\n    this.props.onSort(sortColumn);\r\n  };\r\n\r\n  renderSortIcon = (column) => {\r\n    const {sortColumn} = this.props;\r\n\r\n    if (column.path !== sortColumn.path) return null;\r\n\r\n    if (sortColumn.order === 'asc') return <i className=\"fa fa-sort-asc\">{}</i>;\r\n\r\n    return <i className=\"fa fa-sort-desc\">{}</i>\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n          <thead>\r\n          <tr>\r\n            {this.props.columns.map((column) =>\r\n                  <th className=\"clickable\"\r\n                        key={column.path || column.key} onClick={() => column.sort ? this.raiseSort(column.path) : null} scope=\"col\">\r\n                    {column.label} {this.renderSortIcon(column)}\r\n                  </th>)\r\n            }\r\n          </tr>\r\n          </thead>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default TableHeader;","import React, {Component} from 'react';\r\nimport _ from 'lodash';\r\n\r\nclass TableBody extends Component {\r\n\r\n  renderCell = (item, column) => {\r\n    if (column.content) return column.content(item);\r\n\r\n    return _.get(item, column.path)\r\n  };\r\n\r\n\r\n  createKey = (item, column) => {\r\n    return item.id + (column.path || column.key)\r\n  };\r\n\r\n\r\n  render() {\r\n    const {data, columns} = this.props;\r\n\r\n    return (\r\n          <tbody>\r\n          {data.map((item) =>\r\n                <tr key={item.id}>\r\n                  {columns.map((column) =>\r\n                        <td\r\n                              key={this.createKey(item, column)}>\r\n                          {\r\n                            column.path === 'imageUrl' ? <img src={this.renderCell(item, column)} alt={item.name}\r\n                                                              width={75}/> : this.renderCell(item, column)\r\n                          }\r\n                        </td>\r\n                  )}\r\n                </tr>\r\n          )}\r\n          </tbody>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableBody;","import React from 'react';\r\nimport TableHeader from \"./TableHeader\";\r\nimport TableBody from \"./TableBody\";\r\n\r\n\r\nconst Table = ({columns, sortColumn, onSort, data}) => {\r\n  return (\r\n        <table className=\"table\">\r\n\r\n          <TableHeader\r\n                columns={columns}\r\n                sortColumn={sortColumn}\r\n                onSort={onSort}\r\n          />\r\n          <TableBody\r\n                data={data}\r\n                columns={columns}\r\n          />\r\n\r\n        </table>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import React from 'react';\r\n\r\nconst Like = ({liked, onClick}) => {\r\n  let classes = \"fa fa-thumbs-up\";\r\n  if (!liked) classes = \"fa fa-thumbs-o-up\";\r\n  return (\r\n        <i\r\n              onClick={onClick}\r\n              className={classes}\r\n              style={{cursor: \"pointer\"}}\r\n        > </i>\r\n  );\r\n};\r\n\r\nexport default Like;\r\n","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport Table from \"./Table/Table\";\r\nimport Like from \"./Like\";\r\n\r\nclass PhonesTable extends Component {\r\n\r\n  columns = [\r\n    {path: 'imageUrl', label: 'Image', sort: false},\r\n\r\n    {\r\n      path: 'name',\r\n      label: 'Phone name',\r\n      sort: true,\r\n      content: (phone) => <Link to={`/phones/${phone.id}`}>{phone.name}</Link>\r\n    },\r\n\r\n    {path: 'age', label: 'Age', sort: true},\r\n\r\n    {\r\n      key: 'like',\r\n      label: 'Like',\r\n      sort: false,\r\n      content: (phone) =>\r\n            <Like\r\n                  onClick={() => this.props.onLike(phone)}\r\n                  liked={phone.liked}\r\n            />\r\n    },\r\n  ];\r\n\r\n\r\n  render() {\r\n    const {phones, sortColumn, onSort} = this.props;\r\n\r\n    return (\r\n          <Table\r\n                columns={this.columns}\r\n                sortColumn={sortColumn}\r\n                onSort={onSort}\r\n                data={phones}\r\n          />\r\n    );\r\n\r\n  }\r\n}\r\n\r\nexport default PhonesTable;\r\n","import React, {Component} from 'react';\r\nimport {getAllPhones} from \"../services\";\r\nimport {paginate} from \"../utils/paginate\";\r\nimport _ from \"lodash\";\r\nimport SearchBox from \"./SearchBox\";\r\nimport Pagination from \"./Pagination\";\r\nimport PhonesTable from \"./PhonesTable\";\r\n\r\n\r\nclass Phones extends Component {\r\n\r\n  state = {\r\n    phones: [],\r\n\r\n    currentPage: 1,\r\n    pageSize: 4,\r\n    searchQuery: '',\r\n\r\n    sortColumn: {\r\n      path: 'name',\r\n      order: 'asc'\r\n    }\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const {data: phones} = await getAllPhones();\r\n    this.setState({phones})\r\n  }\r\n\r\n  handleLike = (phone) => {\r\n    const phones = [...this.state.phones];\r\n    const index = phones.indexOf(phone);\r\n    phones[index] = {...phones[index]};\r\n    phones[index].liked = !phones[index].liked;\r\n    this.setState({phones})\r\n  };\r\n\r\n  handlePageChange = (page) => {\r\n    this.setState({currentPage: page})\r\n  };\r\n\r\n  handleSort = (sortColumn) => {\r\n    this.setState({sortColumn})\r\n  };\r\n\r\n  handleSearch = (query) => {\r\n    this.setState({searchQuery: query, currentPage: 1})\r\n  };\r\n\r\n\r\n  getPagedData = () => {\r\n\r\n    const {\r\n      phones: allPhones,\r\n      searchQuery,\r\n      pageSize,\r\n      currentPage,\r\n      sortColumn\r\n    } = this.state;\r\n\r\n\r\n    let filtered = allPhones;\r\n\r\n    if (searchQuery)\r\n      filtered = allPhones.filter((phone) =>\r\n            phone.name.toLowerCase().startsWith(searchQuery.toLowerCase())\r\n      );\r\n\r\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\r\n\r\n    const phones = paginate(sorted, currentPage, pageSize);\r\n\r\n    return {totalCount: filtered.length, data: phones}\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    const {length: count} = this.state.phones;\r\n\r\n    const {pageSize, currentPage, sortColumn, searchQuery} = this.state;\r\n\r\n    if (count === 0) return <p>There are no <strong>Phones</strong> in the database.</p>;\r\n\r\n\r\n    const {totalCount, data: phones} = this.getPagedData();\r\n\r\n    return (\r\n          <div className=\"row\">\r\n\r\n            <div className=\"col\">\r\n\r\n              <p>Showing {totalCount} <strong>Phones</strong> in the database</p>\r\n\r\n              <SearchBox value={searchQuery} onChange={this.handleSearch}/>\r\n\r\n              <PhonesTable\r\n                    phones={phones}\r\n                    sortColumn={sortColumn}\r\n                    onLike={this.handleLike}\r\n                    onSort={this.handleSort}\r\n              />\r\n\r\n\r\n              <Pagination\r\n                    itemsCount={totalCount}\r\n                    pageSize={pageSize}\r\n                    currentPage={currentPage}\r\n                    onPageChange={this.handlePageChange}\r\n              />\r\n\r\n            </div>\r\n          </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Phones;\r\n","import _ from 'lodash';\r\n\r\nexport function paginate(items, pageNumber, pageSize) {\r\n\r\n  const startIndex = (pageNumber - 1) * pageSize;\r\n  return _(items)\r\n        .slice(startIndex)\r\n        .take(pageSize)\r\n        .value();\r\n}","import React, {Component} from 'react';\r\n\r\nimport {getPhoneById} from \"../services\";\r\n\r\n\r\nclass DetailsPhone extends Component {\r\n\r\n\r\n  state = {\r\n    phoneDetails: {},\r\n    error: ''\r\n  };\r\n\r\n  async componentDidMount() {\r\n\r\n    await this.showDetailsPhone();\r\n\r\n  }\r\n\r\n  showDetailsPhone = async () => {\r\n\r\n    const phoneId = this.props.match.params.id;\r\n\r\n    try {\r\n      const phoneDetails = await getPhoneById(phoneId);\r\n      this.setState({phoneDetails: phoneDetails.data});\r\n    } catch (err) {\r\n      this.setState({error: 'Нет такого тавара'});\r\n    }\r\n\r\n  };\r\n\r\n\r\n  render() {\r\n    const {name} = this.state.phoneDetails;\r\n    const {error} = this.state;\r\n\r\n    const res = !error ? name : error;\r\n\r\n    console.log(this.state.phoneDetails);\r\n    return (\r\n          <div>\r\n            {res}\r\n          </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DetailsPhone;\r\n","import React from 'react';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n        <h1>NotFound</h1>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React, {Component} from 'react';\r\nimport {Route, Redirect, Switch} from \"react-router-dom\";\r\n\r\nimport './App.css';\r\nimport Phones from \"./components/Phones\";\r\nimport DetailsPhone from \"./components/DetailsPhone\";\r\nimport NotFound from \"./components/NotFound\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n          <>\r\n            <h1 className=\"text-center\">DataTable React Component</h1>\r\n            <main className=\"container\">\r\n              <Switch>\r\n\r\n                <Route path=\"/phones/:id\" component={DetailsPhone}/>\r\n                <Route path=\"/phones\" component={Phones}/>\r\n\r\n                <Route component={NotFound}/>\r\n\r\n                <Redirect from=\"/\" exact to=\"/phones\"/>\r\n                {/*<Redirect to=\"/not-found\"/>*/}\r\n\r\n              </Switch>\r\n            </main>\r\n          </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {HashRouter} from 'react-router-dom';\r\n\r\n\r\nimport './index.css';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n      <HashRouter>\r\n        <App/>\r\n      </HashRouter>,\r\n      document.getElementById('root'));\r\n"],"sourceRoot":""}